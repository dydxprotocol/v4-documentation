# Builder Codes

Builder codes enables external parties to submit orders to dYdX and collect fees (per-order) for building and routing an order to the exchange.
The address and fee, in parts per million, needs to be configured via the `BuilderCodeParameters` in the order message itself. The fee will be paid out when the given order is filled.

Builder fees and addresses can be queried via the indexer using the `/orders` and `/fills` endpoints as usual. `/orders` contains details on the fee rate and builder address. `/fills` also contains the builder address as well as details on the amount charged per-fill.


## Changes To The Order Message

::::steps

## BuilderCodeParameters
`BuilderCodeParameters` is an addition to the order message which will specify:
    - `partner address` - where fees will be routed
    - `fee (in ppm)` that will be charged on order matching

:::code-group

```typescript [TypeScript]
// BuilderCodeParameters interface
export interface IBuilderCodeParameters {
  builderAddress: string; // Address to receive the fee
  feePpm: number; // Fee in parts per million
}

// Example: Place an order with builder code parameters
const order: IPlaceOrder = {
  clientId: 2,
  clobPairId: 1,
  side: Order_Side.SIDE_BUY,
  quantums: Long.fromNumber(1000000),
  subticks: Long.fromNumber(50000),
  timeInForce: Order_TimeInForce.TIME_IN_FORCE_UNSPECIFIED,
  reduceOnly: false,
  orderFlags: OrderFlags.SHORT_TERM,
  goodTilBlock: currentBlockHeight + 20,
  builderCodeParameters: {
    builderAddress: 'dydx1example_builder_address',
    feePpm: 1000, // 0.1% fee (1000 parts per million)
  }
};

await client.validatorClient.post.placeOrder(
  subaccount,
  order.clientId,
  order.clobPairId,
  order.side,
  order.quantums,
  order.subticks,
  order.timeInForce,
  order.orderFlags,
  order.reduceOnly,
  order.goodTilBlock,
  undefined,
  0,
  undefined,
  undefined,
  order.builderCodeParameters,
  undefined
);
```

:::

:::note
`BuilderCodeParameters` is an optional field
:::

## Order Validation Checks
    - Ensure the `builder address` is valid
    - Ensure the `feePPM` is in the range `(0, 10,000]`

::::
