import { Button } from 'vocs/components';

### Get Candles

Retrieves candle data for a specific perpetual market.

#### Method Declaration

:::code-group

```python [Python]
async def get_perpetual_market_candles(
    self,
    market: str,
    resolution: str,
    from_iso: Optional[str] = None,
    to_iso: Optional[str] = None,
    limit: Optional[int] = None,
) -> dict
```

```typescript [TypeScript]
async getPerpetualMarketCandles(
    market: string,
    resolution: string,
    fromISO?: string | null,
    toISO?: string | null,
    limit?: number | null,
): Promise<Data>
```

```rust [Rust]
pub async fn get_perpetual_market_candles(
    &self,
    ticker: &Ticker,
    res: CandleResolution,
    opts: Option<GetCandlesOpts>,
) -> Result<Vec<CandleResponseObject>, Error>
```

```url [API]
/v4/candles/perpetualMarkets/{market}
```

:::

:::details[Unification Plan]
:::

#### Parameters

| Parameter    | Location | Type               | Required | Description                                            |
| ------------ | -------- | ------------------ | -------- | ------------------------------------------------------ |
| `market`     | path     | [Ticker]           | true     | The market ticker.                                     |
| `resolution` | query    | [CandleResolution] | true     | The candle resolution (e.g., "1DAY", "1HOUR", "1MIN"). |
| `limit`      | query    | [u32]              | false    | The maximum number of candles to retrieve.             |
| `fromIso`    | query    | [DateTime]         | false    | The start timestamp in ISO format.                     |
| `toIso`      | query    | [DateTime]         | false    | The end timestamp in ISO format.                       |

#### Response

| Status | Meaning       | Schema                   | Description                           |
| ------ | ------------- | ------------------------ | ------------------------------------- |
| `200`  | [OK]          | [CandleResponseObject] ‚õÅ | The candle data.                      |
| `400`  | [Bad Request] |                          | The request was malformed or invalid. |

<Button href="https://indexer.v4testnet.dydx.exchange/v4/candles/perpetualMarkets/BTC-USD?resolution=1DAY">
  API Example
</Button>

[OK]: /types/ok
[u32]: /types/u32
[Ticker]: /types/ticker
[CandleResolution]: /types/candle_resolution
[DateTime]: /types/date_time
[CandleResponseObject]: /types/candle_response_object
[Bad Request]: /types/bad-request
