# MegaVault

MegaVault is a live feature on the dYdX that allows users to deposit **USDC** and earn yield by providing liquidity to various markets. It operates as an automated liquidity provisioning system, using deposited funds to run **automated market-making (AMM)** strategies across multiple trading pairs.

Depositors can contribute USDC at any time and begin earning yield immediately. Withdrawals are also supported, though factors such as market conditions, leverage, or open positions may affect the timing and value of withdrawals (via slippage). MegaVault is designed to benefit both sides of the protocol: users earn potential returns, and markets benefit from deeper liquidity and more efficient trading.

Yield for depositors can originate from:
- Profit and loss (PnL) on market-making positions
- A share of trading fees generated by the vault’s activity
- Funding payments and incentives configured by governance or software deployers

An **operator**, elected through governance, currently manages certain manual operations like reallocating funds between sub-vaults and tuning quoting parameters. In future versions, these processes may be automated.

## Vault Mechanics & User Experience

- **Sub-vault Architecture**: MegaVault is composed of multiple “sub-vaults,” each assigned to a specific market. When users deposit USDC, the funds are distributed among these sub-vaults based on liquidity needs. Each sub-vault runs its own AMM strategy, tailored for that market’s dynamics.

- **Yield Aggregation & Distribution**: Returns generated from all sub-vaults are pooled and distributed proportionally among depositors. Users' deposits represent a fractional ownership of the vault’s total net equity — including both USDC and active trading positions.

- **Deposits and Withdrawals**: Users can deposit USDC at any time with no minimums. Withdrawals are also available on-demand, but the amount received may be affected by the vault’s exposure and market volatility. This can result in **slippage** — especially during large withdrawals or volatile periods.

- **Risks and Future Features**:
  - Yield is **not guaranteed**. Depositors bear market risk, and negative PnL from trading positions can reduce vault equity.
  - Withdrawals may be subject to **future restrictions**, such as **lockup periods** for specific strategies or new market listings.
  - Currently, users cannot interact directly with sub-vaults; all deposits and withdrawals are routed through MegaVault.
